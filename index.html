<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoftMedix — Robots Médicaux Souples & Capteurs Intégrés</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Clash+Display:wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
    <style>
        :root {
            --bg: #ffffff;
            --text: #1e293b;
            --card: #ffffff;
            --border: rgba(0, 0, 0, 0.08);
            --primary: #0284c7;
            --primary-light: #0ea5e9;
            --gray: #64748b;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            --search-bg: rgba(2,132,199,0.1);
        }
        [data-theme="dark"] {
            --bg: #0f172a;
            --text: #e2e8f0;
            --card: #1e293b;
            --border: rgba(255, 255, 255, 0.1);
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            --search-bg: rgba(255,255,255,0.05);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.7;
            transition: all 0.4s ease;
        }
        header {
            position: fixed;
            top: 0; left: 0; right: 0;
            padding: 1rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(12px);
            background: var(--bg);
            border-bottom: 1px solid var(--border);
            gap: 1rem;
        }
        .logo {
            font-family: 'Clash Display', sans-serif;
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--primary);
            flex-shrink: 0;
            cursor: pointer;
        }
        .search-bar {
            flex: 1;
            max-width: 600px;
            position: relative;
        }
        .search-bar input {
            width: 100%;
            padding: 0.8rem 1.2rem 0.8rem 2.5rem;
            border: 1px solid var(--border);
            border-radius: 50px;
            background: var(--search-bg);
            color: var(--text);
            font-size: 1rem;
            outline: none;
            transition: all 0.3s;
        }
        .search-bar input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(2,132,199,0.1);
        }
        .search-bar i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }
        .theme-toggle {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            width: 50px; height: 50px;
            border-radius: 50%;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.4s;
            flex-shrink: 0;
        }
        .theme-toggle:hover { background: var(--primary); color: white; }
        .container { max-width: 1400px; margin: 0 auto; padding: 100px 2rem 4rem; }
        h1, h2, h3 { font-family: 'Clash Display', sans-serif; font-weight: 600; }
        
        /* Hero Section */
        .hero {
            padding: 60px 20px 80px;
            border-bottom: 1px solid var(--border);
        }
        .hero-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }
        .hero-text h1 {
            font-size: 3.5rem;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }
        .hero-intro {
            font-size: 1.15rem;
            line-height: 1.8;
            color: var(--gray);
            margin-bottom: 2.5rem;
        }
        .hero-stats {
            display: flex;
            gap: 40px;
            margin-top: 40px;
        }
        .stat-item {
            text-align: center;
        }
        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            font-family: 'Clash Display', sans-serif;
        }
        .stat-label {
            font-size: 0.9rem;
            color: var(--gray);
            margin-top: 0.5rem;
        }
        .hero-image {
            position: relative;
        }
        .hero-image img {
            width: 100%;
            height: auto;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(2,132,199,0.2);
            transition: transform 0.5s ease;
        }
        .hero-image img:hover {
            transform: scale(1.05);
        }
        .sections-overview {
            text-align: center;
            padding: 60px 20px 40px;
        }
        .sections-title {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--text);
        }
        .sections-subtitle {
            font-size: 1.1rem;
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto;
        }
        
        /* Sections Grid */
        .sections-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin-top: 40px;
        }
        .section-card {
            background: var(--card);
            border-radius: 20px;
            border: 1px solid var(--border);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.4s ease;
            cursor: pointer;
        }
        .section-card:hover { 
            transform: translateY(-8px); 
            box-shadow: 0 20px 50px rgba(2,132,199,0.2); 
            border-color: var(--primary);
        }
        .section-header {
            padding: 2rem 1.8rem;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            font-size: 1.4rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
        }
        .section-count {
            background: rgba(255,255,255,0.2);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        .subsections {
            padding: 1.5rem;
        }
        .sub-btn {
            display: flex;
            align-items: center;
            width: 100%;
            padding: 1rem 1.2rem;
            margin: 0.6rem 0;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            text-align: left;
            font-weight: 500;
            color: var(--text);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .sub-btn:hover, .sub-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: translateX(8px);
            box-shadow: 0 4px 15px rgba(2,132,199,0.3);
        }
        .sub-btn-icon {
            margin-right: 12px;
            font-size: 1.1rem;
        }
        
        /* Detail Pages */
        .detail-page { 
            display: none; 
            min-height: 100vh; 
            padding: 160px 2rem 4rem;
        }
        .detail-page.active { display: block; }
        .detail-header {
            position: fixed;
            top: 80px;
            left: 0;
            right: 0;
            background: var(--card);
            border-bottom: 1px solid var(--border);
            padding: 1rem 5%;
            z-index: 998;
            backdrop-filter: blur(12px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
        }
        .back-btn {
            background: transparent;
            border: 2px solid var(--primary);
            padding: 10px 24px;
            border-radius: 50px;
            color: var(--primary);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .back-btn:hover { 
            background: var(--primary); 
            color: white; 
            transform: translateX(-4px);
        }
        .section-progress {
            display: flex;
            align-items: center;
            gap: 20px;
            color: var(--gray);
            font-size: 0.95rem;
        }
        .progress-bar {
            width: 150px;
            height: 4px;
            background: var(--border);
            border-radius: 2px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            transition: width 0.3s ease;
        }
        .detail-wrapper {
            max-width: 1200px;
            margin: 0 auto;
        }
        .detail-content {
            background: var(--card);
            border-radius: 24px;
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }
        .detail-title-section {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            padding: 60px 50px;
            color: white;
        }
        .detail-title-section h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: white;
        }
        .detail-meta {
            display: flex;
            gap: 30px;
            font-size: 0.95rem;
            opacity: 0.9;
            margin-top: 20px;
        }
        .detail-meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .detail-image-zone {
            padding: 50px;
            background: var(--bg);
        }
        .detail-img {
            width: 100%;
            height: auto;
            max-height: 500px;
            object-fit: cover;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }
        .detail-text-zone {
            padding: 50px;
        }
        .text-zone {
            font-size: 1.1rem;
            line-height: 1.9;
            color: var(--text);
        }
        .text-zone h2 {
            font-size: 1.8rem;
            margin: 2rem 0 1rem;
            color: var(--primary);
        }
        .text-zone p {
            margin-bottom: 1.5rem;
        }
        .highlight-box {
            background: rgba(2,132,199,0.1);
            border-left: 4px solid var(--primary);
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 8px;
        }
        .section-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 30px 50px;
            border-top: 1px solid var(--border);
            background: var(--bg);
        }
        .nav-btn {
            background: var(--card);
            border: 2px solid var(--border);
            padding: 14px 28px;
            border-radius: 50px;
            color: var(--text);
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .nav-btn:hover:not(:disabled) {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        .nav-btn.prev:hover:not(:disabled) { transform: translateX(-4px); }
        .nav-btn.next:hover:not(:disabled) { transform: translateX(4px); }
        .nav-btn:disabled { opacity: 0.3; cursor: not-allowed; }
        .nav-center { color: var(--gray); font-size: 0.9rem; }
        .fade-in { opacity: 0; transform: translateY(40px); }
        .fade-in.visible { opacity: 1; transform: translateY(0); transition: all 0.9s ease; }
        footer {
            background: var(--card);
            padding: 40px 0;
            text-align: center;
            border-top: 1px solid var(--border);
            margin-top: 80px;
        }
        footer p { color: var(--gray); font-size: 0.9rem; }
        footer a { color: var(--primary); text-decoration: none; margin: 0 10px; }
        
        @media (max-width: 1024px) {
            .hero-content { grid-template-columns: 1fr; }
            .hero-image { order: 1; }
            .hero-text { order: 2; }
            .detail-title-section, .detail-image-zone, .detail-text-zone, .section-nav { padding: 30px; }
        }
        @media (max-width: 768px) {
            header { flex-direction: column; padding: 1rem 2%; }
            .search-bar { order: 3; margin-top: 1rem; width: 100%; }
            .logo { font-size: 1.8rem; }
            .hero-text h1 { font-size: 2.2rem; }
            .hero-stats { gap: 20px; }
            .sections-title { font-size: 2rem; }
            .detail-title-section h1 { font-size: 2rem; }
            .detail-header { flex-direction: column; gap: 1rem; top: 70px; }
            .section-nav { flex-direction: column; gap: 1rem; }
            .nav-btn { width: 100%; justify-content: center; }
            .sections-grid { grid-template-columns: 1fr; }
            .detail-page { padding-top: 200px; }
        }
    </style>
</head>
<body>

<header>
    <div class="logo" onclick="goHome()">SoftMedix</div>
    <div class="search-bar">
        <i class="fas fa-search"></i>
        <input type="text" id="searchInput" placeholder="Rechercher...">
    </div>
    <button class="theme-toggle" id="themeToggle"><i class="fas fa-moon"></i></button>
</header>

<div class="container" id="home">
    <section class="hero fade-in">
        <div class="hero-content">
            <div class="hero-text">
                <h1>Robots Médicaux Souples<br>& Capteurs Intégrés</h1>
                <p class="hero-intro">Explorez l'avenir de la chirurgie minimalement invasive à travers l'intégration de capteurs biomimétiques dans les robots souples. Notre recherche révolutionne la perception tactile, la sécurité opératoire et la précision chirurgicale.</p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <div class="stat-number">5</div>
                        <div class="stat-label">Domaines clés</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">23</div>
                        <div class="stat-label">Sous-sections</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">100%</div>
                        <div class="stat-label">Innovation</div>
                    </div>
                </div>
            </div>
            <div class="hero-image">
                <img src="https://via.placeholder.com/600x500/0284c7/ffffff?text=Robot+Médical+Souple" alt="Robot médical souple">
            </div>
        </div>
    </section>

    <div class="sections-overview">
        <h2 class="sections-title">Parcourez nos domaines de recherche</h2>
        <p class="sections-subtitle">Cliquez sur une sous-section pour explorer en détail</p>
    </div>

    <div class="sections-grid">
        <div class="section-card">
            <div class="section-header">
                <span>Fonctions et types de capteurs</span>
                <span class="section-count">6</span>
            </div>
            <div class="subsections">
                <button class="sub-btn" onclick="showDetail('s1-1')">
                    <i class="fas fa-compress-arrows-alt sub-btn-icon"></i>
                    Capteurs de force et de pression
                </button>
                <button class="sub-btn" onclick="showDetail('s1-2')">
                    <i class="fas fa-hand-paper sub-btn-icon"></i>
                    Capteurs tactiles
                </button>
                <button class="sub-btn" onclick="showDetail('s1-3')">
                    <i class="fas fa-thermometer-half sub-btn-icon"></i>
                    Capteurs de température
                </button>
                <button class="sub-btn" onclick="showDetail('s1-4')">
                    <i class="fas fa-bezier-curve sub-btn-icon"></i>
                    Capteurs de contrainte et courbure
                </button>
                <button class="sub-btn" onclick="showDetail('s1-5')">
                    <i class="fas fa-bolt sub-btn-icon"></i>
                    Capteurs d'impédance électrique
                </button>
                <button class="sub-btn" onclick="showDetail('s1-6')">
                    <i class="fas fa-map-marker-alt sub-btn-icon"></i>
                    Capteurs de localisation
                </button>
            </div>
        </div>

        <div class="section-card">
            <div class="section-header">
                <span>Matériaux pour capteurs souples</span>
                <span class="section-count">4</span>
            </div>
            <div class="subsections">
                <button class="sub-btn" onclick="showDetail('s2-1')">
                    <i class="fas fa-cube sub-btn-icon"></i>
                    Polymères élastomères
                </button>
                <button class="sub-btn" onclick="showDetail('s2-2')">
                    <i class="fas fa-plug sub-btn-icon"></i>
                    Électrodes extensibles
                </button>
                <button class="sub-btn" onclick="showDetail('s2-3')">
                    <i class="fas fa-lightbulb sub-btn-icon"></i>
                    Fibres optiques souples
                </button>
                <button class="sub-btn" onclick="showDetail('s2-4')">
                    <i class="fas fa-flask sub-btn-icon"></i>
                    Hydrogels et matériaux sensibles
                </button>
            </div>
        </div>

        <div class="section-card">
            <div class="section-header">
                <span>Technologies d'intégration</span>
                <span class="section-count">5</span>
            </div>
            <div class="subsections">
                <button class="sub-btn" onclick="showDetail('s3-1')">
                    <i class="fas fa-microchip sub-btn-icon"></i>
                    Microfabrication MEMS
                </button>
                <button class="sub-btn" onclick="showDetail('s3-2')">
                    <i class="fas fa-print sub-btn-icon"></i>
                    Impression 3D
                </button>
                <button class="sub-btn" onclick="showDetail('s3-3')">
                    <i class="fas fa-layer-group sub-btn-icon"></i>
                    Encapsulation multicouches
                </button>
                <button class="sub-btn" onclick="showDetail('s3-4')">
                    <i class="fas fa-eye sub-btn-icon"></i>
                    Approches fibre optique
                </button>
                <button class="sub-btn" onclick="showDetail('s3-5')">
                    <i class="fas fa-cubes sub-btn-icon"></i>
                    Intégration 3D
                </button>
            </div>
        </div>

        <div class="section-card">
            <div class="section-header">
                <span>Défis actuels</span>
                <span class="section-count">4</span>
            </div>
            <div class="subsections">
                <button class="sub-btn" onclick="showDetail('s4-1')">
                    <i class="fas fa-compress sub-btn-icon"></i>
                    Miniaturisation extrême
                </button>
                <button class="sub-btn" onclick="showDetail('s4-2')">
                    <i class="fas fa-tint sub-btn-icon"></i>
                    Fiabilité en milieu humide
                </button>
                <button class="sub-btn" onclick="showDetail('s4-3')">
                    <i class="fas fa-heartbeat sub-btn-icon"></i>
                    Compatibilité biomécanique
                </button>
                <button class="sub-btn" onclick="showDetail('s4-4')">
                    <i class="fas fa-shield-alt sub-btn-icon"></i>
                    Durabilité long terme
                </button>
            </div>
        </div>

        <div class="section-card">
            <div class="section-header">
                <span>Perspectives futures</span>
                <span class="section-count">4</span>
            </div>
            <div class="subsections">
                <button class="sub-btn" onclick="showDetail('s5-1')">
                    <i class="fas fa-atom sub-btn-icon"></i>
                    Capteurs multi-modaux
                </button>
                <button class="sub-btn" onclick="showDetail('s5-2')">
                    <i class="fas fa-project-diagram sub-btn-icon"></i>
                    Intégration 3D totale
                </button>
                <button class="sub-btn" onclick="showDetail('s5-3')">
                    <i class="fas fa-clock sub-btn-icon"></i>
                    Retour temps réel
                </button>
                <button class="sub-btn" onclick="showDetail('s5-4')">
                    <i class="fas fa-leaf sub-btn-icon"></i>
                    Matériaux biocompatibles
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Detail Pages -->
<div id="s1-1" class="detail-page">
    <div class="detail-header">
        <button class="back-btn" onclick="goHome()">
            <i class="fas fa-arrow-left"></i> Accueil
        </button>
        <div class="section-progress">
            <span>Section 1 · 1/6</span>
            <div class="progress-bar"><div class="progress-fill" style="width: 16.6%"></div></div>
        </div>
    </div>
    <div class="detail-wrapper">
        <div class="detail-content fade-in">
            <div class="detail-title-section">
                <h1>Capteurs de force et de pression</h1>
                <div class="detail-meta">
                    <div class="detail-meta-item"><i class="fas fa-layer-group"></i> Fonctions et types</div>
                    <div class="detail-meta-item"><i class="fas fa-compress-arrows-alt"></i> Capteurs mécaniques</div>
                </div>
            </div>
            <div class="detail-image-zone">
                <img src="https://via.placeholder.com/1200x600/0284c7/ffffff?text=Capteurs+de+Force" alt="Capteurs de force" class="detail-img">
            </div>
            <div class="detail-text-zone">
                <div class="text-zone">
                    <h2>Introduction</h2>
                    <p>Les capteurs de force et de pression représentent la pierre angulaire de l'interaction sécurisée entre les robots médicaux souples et les tissus biologiques. Leur capacité à détecter en temps réel les interactions mécaniques permet au robot d'ajuster instantanément sa manipulation pour éviter tout dommage aux tissus délicats.</p>
                    
                    <div class="highlight-box">
                        <strong>Point clé :</strong> La sensibilité de ces capteurs peut descendre jusqu'à des forces de l'ordre du millinewton, permettant de détecter les moindres variations de pression lors d'une intervention chirurgicale.
                    </div>
                    
                    <h2>Principes de fonctionnement</h2>
                    <p>Ces capteurs exploitent plusieurs principes physiques pour convertir une contrainte mécanique en signal électrique mesurable. Les technologies les plus courantes incluent les capteurs piézorésistifs, capacitifs et piézoélectriques, chacun offrant des avantages spécifiques selon l'application visée.</p>
                    
                    <p>L'intégration de ces capteurs dans des structures souples nécessite des matériaux qui peuvent se déformer sans perdre leurs propriétés de détection, tout en maintenant une biocompatibilité totale avec les tissus humains.</p>
                </div>
            </div>
            <div class="section-nav">
                <button class="nav-btn prev" onclick="navigatePrev('s1-1')" disabled>
                    <i class="fas fa-chevron-left"></i> Précédent
                </button>
                <div class="nav-center">1 sur 6</div>
                <button class="nav-btn next" onclick="navigateNext('s1-1')">
                    Suivant <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </div>
</div>

<div id="s1-2" class="detail-page">
    <div class="detail-header">
        <button class="back-btn" onclick="goHome()">
            <i class="fas fa-arrow-left"></i> Accueil
        </button>
        <div class="section-progress">
            <span>Section 1 · 2/6</span>
            <div class="progress-bar"><div class="progress-fill" style="width: 33.3%"></div></div>
        </div>
    </div>
    <div class="detail-wrapper">
        <div class="detail-content fade-in">
            <div class="detail-title-section">
                <h1>Capteurs tactiles</h1>
                <div class="detail-meta">
                    <div class="detail-meta-item"><i class="fas fa-layer-group"></i> Fonctions et types</div>
                    <div class="detail-meta-item"><i class="fas fa-hand-paper"></i> Perception tactile</div>
                </div>
            </div>
            <div class="detail-image-zone">
                <img src="https://via.placeholder.com/1200x600/0284c7/ffffff?text=Capteurs+Tactiles" alt="Capteurs tactiles" class="detail-img">
            </div>
            <div class="detail-text-zone">
                <div class="text-zone">
                    <h2>Vue d'ensemble</h2>
                    <p>Les capteurs tactiles reproduisent le sens du toucher humain en utilisant une matrice de capteurs souples distribués sur la surface du robot. Cette technologie permet de créer une "peau électronique" capable de percevoir non seulement la pression, mais aussi la texture, la forme et la température des objets touchés.</p>
                    
                    <div class="highlight-box">
                        <strong>Innovation majeure :</strong> Les dernières générations de capteurs tactiles peuvent détecter jusqu'à 10 000 points de contact simultanés avec une résolution spatiale inférieure au millimètre.
                    </div>
                    
                    <h2>Applications cliniques</h2>
                    <p>En chirurgie robotique, ces capteurs permettent au chirurgien de "sentir" les tissus à travers l'interface du robot, restaurant ainsi le feedback haptique essentiel perdu avec les systèmes robotiques classiques. Cette capacité améliore considérablement la précision des gestes chirurgicaux et réduit les risques de lésions accidentelles.</p>
                </div>
            </div>
            <div class="section-nav">
                <button class="nav-btn prev" onclick="navigatePrev('s1-2')">
                    <i class="fas fa-chevron-left"></i> Précédent
                </button>
                <div class="nav-center">2 sur 6</div>
                <button class="nav-btn next" onclick="navigateNext('s1-2')">
                    Suivant <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </div>
</div>

<footer>
    <p>© 2024 SoftMedix. Recherche avancée en robotique médicale souple. | <a href="#">Contact</a> | <a href="#">Publications</a></p>
</footer>

<script>
    const sectionData = {
        s1: ['s1-1', 's1-2', 's1-3', 's1-4', 's1-5', 's1-6'],
        s2: ['s2-1', 's2-2', 's2-3', 's2-4'],
        s3: ['s3-1', 's3-2', 's3-3', 's3-4', 's3-5'],
        s4: ['s4-1', 's4-2', 's4-3', 's4-4'],
        s5: ['s5-1', 's5-2', 's5-3', 's5-4']
    };

    function showDetail(id) {
        document.getElementById('home').style.display = 'none';
        document.querySelectorAll('.detail-page').forEach(p => p.classList.remove('active'));
        const page = document.getElementById(id);
        if(page) {
            page.classList.add('active');
            window.scrollTo(0, 0);
            setTimeout(() => page.querySelectorAll('.fade-in').forEach(el => el.classList.add('visible')), 100);
        }
    }

    function goHome() {
        document.querySelectorAll('.detail-page').forEach(p => {
            p.classList.remove('active');
            p.querySelectorAll('.fade-in').forEach(el => el.classList.remove('visible'));
        });
        document.getElementById('home').style.display = 'block';
        window.scrollTo(0, 0);
    }

    function navigateNext(currentId) {
        const section = currentId.split('-')[0];
        const subs = sectionData[section];
        const index = subs.indexOf(currentId);
        if (index < subs.length - 1) {
            showDetail(subs[index + 1]);
        }
    }

    function navigatePrev(currentId) {
        const section = currentId.split('-')[0];
        const subs = sectionData[section];
        const index = subs.indexOf(currentId);
        if (index > 0) {
            showDetail(subs[index - 1]);
        }
    }

    // Theme toggle
    document.getElementById('themeToggle').addEventListener('click', () => {
        const current = document.documentElement.getAttribute('data-theme') || 'light';
        const newTheme = current === 'dark' ? 'light' : 'dark';
        document.documentElement.setAttribute('data-theme', newTheme);
        document.querySelector('#themeToggle i').classList.toggle('fa-moon');
        document.querySelector('#themeToggle i').classList.toggle('fa-sun');
    });

    // Search functionality
    document.getElementById('searchInput').addEventListener('input', (e) => {
        const query = e.target.value.toLowerCase();
        document.querySelectorAll('.section-card').forEach(card => {
            const header = card.querySelector('.section-header').textContent.toLowerCase();
            const subs = card.querySelectorAll('.sub-btn');
            let match = header.includes(query);
            subs.forEach(sub => {
                const subText = sub.textContent.toLowerCase();
                sub.style.display = subText.includes(query) ? 'flex' : 'none';
                if (subText.includes(query)) match = true;
            });
            card.style.display = match ? 'block' : 'none';
        });
    });

    // GSAP Animations
    gsap.registerPlugin(ScrollTrigger);
    gsap.utils.toArray('.fade-in').forEach(el => {
        gsap.from(el, {
            y: 60,
            opacity: 0,
            duration: 1,
            ease: "power3.out",
            scrollTrigger: { trigger: el, start: "top 85%", toggleActions: "play none none reverse" }
        });
    });
</script>
